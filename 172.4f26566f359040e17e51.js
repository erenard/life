(self.webpackChunkconway_life=self.webpackChunkconway_life||[]).push([[172],{172:(t,s,e)=>{"use strict";e.r(s),e.d(s,{default:()=>u});var i=e(575),h=e.n(i),l=e(913),n=e.n(l),c=e(539),u=function(){function t(s,e){h()(this,t),this.sizeX=s.gridWidth,this.sizeY=s.gridHeight,this.length=this.sizeX*this.sizeY,this.rules=e,this.cells=new Uint8Array(this.length)}return n()(t,[{key:"countNeighboursSafe",value:function(t){return(0,c.y0)(this.getCellAt(t-this.sizeX-1))+(0,c.y0)(this.getCellAt(t-this.sizeX))+(0,c.y0)(this.getCellAt(t-this.sizeX+1))+(0,c.y0)(this.getCellAt(t-1))+(0,c.y0)(this.getCellAt(t+1))+(0,c.y0)(this.getCellAt(t+this.sizeX-1))+(0,c.y0)(this.getCellAt(t+this.sizeX))+(0,c.y0)(this.getCellAt(t+this.sizeX+1))}},{key:"countNeighboursUnsafe",value:function(t){return(0,c.y0)(this.cells[t-this.sizeX-1])+(0,c.y0)(this.cells[t-this.sizeX])+(0,c.y0)(this.cells[t-this.sizeX+1])+(0,c.y0)(this.cells[t-1])+(0,c.y0)(this.cells[t+1])+(0,c.y0)(this.cells[t+this.sizeX-1])+(0,c.y0)(this.cells[t+this.sizeX])+(0,c.y0)(this.cells[t+this.sizeX+1])}},{key:"update",value:function(){var t;for(t=0;t<this.sizeX+1;t++)this.cells[t]=(0,c.kM)(this.cells[t],this.countNeighboursSafe(this.length+t));for(t=this.sizeX+1;t<this.length-(this.sizeX+1);t++)this.cells[t]=(0,c.kM)(this.cells[t],this.countNeighboursUnsafe(t));for(t=this.length-(this.sizeX+1);t<this.length;t++)this.cells[t]=(0,c.kM)(this.cells[t],this.countNeighboursSafe(t));for(t=this.length;t--;)this.cells[t]=(0,c.wW)(this.cells[t],this.rules)}},{key:"random",value:function(t){for(var s=this.length;s--;)this.cells[s]=(0,c.IW)(this.cells[s],Math.random()+t>=1)}},{key:"clear",value:function(){for(var t=this.length;t--;)this.cells[t]=(0,c.IW)(this.cells[t],0)}},{key:"getCellAt",value:function(t){return this.cells[t%this.length]}},{key:"indexToXy",value:function(t){return{x:(t%=this.length)%this.sizeX,y:Math.floor(t/this.sizeX)}}},{key:"xyToIndex",value:function(t,s){return(this.sizeX*s+t)%this.length}},{key:"Cells",get:function(){return this.cells}},{key:"Size",get:function(){return{x:this.sizeX,y:this.sizeY,length:this.length}}}]),t}()}}]);